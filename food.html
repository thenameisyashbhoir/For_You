<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Food üçΩÔ∏è</title>
    <link rel="stylesheet" href="css/theme.css" />
    <script src="config.js"></script>
  </head>

  <body>
    <main class="wrap">
      <section class="card" style="padding:18px 16px 18px;">
        <div class="title">Choose our food üçΩÔ∏è</div>
        <p class="subtitle">Pick what you‚Äôd crave most.</p>

        <div class="grid" id="grid"></div>

        <div style="margin-top:14px;"><span class="pill" id="picked">Chosen: tap an option ‚ú®</span></div>

        <div style="margin-top:14px;">
          <button class="btn btnPrimary btnFull" id="next" disabled>Continue üç∞</button>
        </div>
      </section>
    </main>

    <script>
      const cfg = window.VALENTINE_CONFIG || {};
      const grid = document.getElementById('grid');
      const options = Array.isArray(cfg.foodOptions) && cfg.foodOptions.length ? cfg.foodOptions : [];

      grid.innerHTML = options.map(o => `
        <div class="option" data-value="${o.title} ${o.emoji}">
          <div class="optionTitle">${o.title} ${o.emoji}</div>
          <p class="optionText">${o.subtitle || ''}</p>
        </div>
      `).join('');

      const items = document.querySelectorAll('.option');
      const picked = document.getElementById('picked');
      const next = document.getElementById('next');
      let choice = '';

      items.forEach(i => {
        i.addEventListener('click', () => {
          items.forEach(x => x.classList.remove('active'));
          i.classList.add('active');
          choice = i.dataset.value;
          picked.textContent = 'Chosen: ' + choice;
          next.disabled = false;
        });
      });

      next.addEventListener('click', () => {
        localStorage.setItem('food_choice', choice);
        location.href = 'dessert.html';
      });
    </script>
  </body>
</html>
